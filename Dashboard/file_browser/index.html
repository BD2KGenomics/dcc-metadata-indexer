<html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7 ng-app:multiselect" lang="en" id="ng-app"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8 ng-app:multiselect" lang="en" id="ng-app"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang="en" ng-app="multiselect"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" ng-app="multiselect"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="ElasticSearch + Elastic.js Multi-Select Faceting Example">
    <meta name="viewport" content="width=device-width">

    <title>ElasticSearch + Elastic.js Multi-Select Faceting</title>

    <link rel="stylesheet" type="text/css" href="../mystyle.css">
    <link rel="stylesheet" href="common/css/normalize.min.css">
    <link rel="stylesheet" href="common/css/main.min.css">
    <link rel="stylesheet" href="common/css/bootstrap.min.css">
    <link rel="stylesheet" href="common/css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="common/css/elasticjs.css">

    <script src="common/lib/modernizr-2.6.1.min.js"></script>
</head>

<style>
body{
   font-family: Muli;
}

.chart {
   background: #fff;
   font: 10px;
}

.axis path, .axis line {
   fill: none;
   stroke: #000;
   stroke-width: 2px;
   shape-rendering: crispEdges;
}

button {
   position: absolute;
   right: 50px;
   top: 10px;
}

</style>

<body ng-controller="SearchCtrl">
  <div class="imgcgl">
   <div class="imgcontainer">
      <a href="https://genomics.soe.ucsc.edu/">
         <img src="../UCSC-Logo-genomics-web-80.png" alt="University of California Santa Cruz" class="imglogo">
      </a>
   </div>
   <div class="cglcontainer" style="float: right;">
      <a href="https://cgl.genomics.ucsc.edu/" class="text">Computational Genomics Laboratory</a>
   </div>
</div>
<ul class="header">
   <li><a href="index.html">Home</a></li>
   <div class="dropdown">
      <li class="dropbtn"><a href="projects.html">Projects</a></li>
      <div class="dropdown-content">
         <a href="project_1.html">Project 1</a>
         <a href="project_2.html">Project 2</a>
         <a href="project_3.html">Project 3</a>
      </div>
   </div>
  <li><a href="https://ucsc-cgl.atlassian.net/wiki/">Wiki</a></li>
  <li><a href="about.html">About</a></li>
</ul>
    <div class="container-fluid">
        <div class="row-fluid">

            <div class="span2 well">
                <ul class="nav nav-sidebar">
                    <li class="nav-header">Center Name</li>
                    <li ng-repeat="center_name in results.facets.center_nameFacet.terms">
                        <label class="checkbox">
                            <input type="checkbox" ng-checked="hasFilter('center_name', center_name.term)" ng-click="handleFilter('center_name', center_name.term)">
                            {{center_name.term}}
                            <span class="muted">({{center_name.count}})</span>
                        </label>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-header">Program</li>
                    <li ng-repeat="program in results.facets.programFacet.terms">
                        <label class="checkbox">
                            <input type="checkbox" ng-checked="hasFilter('program', program.term)" ng-click="handleFilter('program', program.term)">
                            {{program.term}}
                            <span class="muted">({{program.count}})</span>
                        </label>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-header">Project</li>
                    <li ng-repeat="project in results.facets.projectFacet.terms">
                        <label class="checkbox">
                            <input type="checkbox" ng-checked="hasFilter('project', project.term)" ng-click="handleFilter('project', project.term)">
                            {{project.term}}
                            <span class="muted">({{project.count}})</span>
                        </label>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-header">Workflow</li>
                    <li ng-repeat="kw in results.facets.workflowFacet.terms">
                        <label class="checkbox">
                            <input type="checkbox" ng-checked="hasFilter('workflow', kw.term)" ng-click="handleFilter('workflow', kw.term)">
                            {{kw.term}}
                            <span class="muted">({{kw.count}})</span>
                        </label>
                    </li>

                    <li class="divider"></li>
                    <li class="nav-header">Analysis Type</li>
                    <li ng-repeat="kw in results.facets.analysis_typeFacet.terms">
                        <label class="checkbox">
                            <input type="checkbox" ng-checked="hasFilter('analysis_type', kw.term)" ng-click="handleFilter('analysis_type', kw.term)">
                            {{kw.term}}
                            <span class="muted">({{kw.count}})</span>
                        </label>
                    </li>
                    <!-- ['center_name', 'program', 'project', 'workflow', 'analysis_type', 'specimen_type', 'file_type']; -->

                    <li class="divider"></li>
                    <li class="nav-header">Specimen Type</li>
                    <li ng-repeat="kw in results.facets.specimen_typeFacet.terms">
                        <label class="checkbox">
                            <input type="checkbox" ng-checked="hasFilter('specimen_type', kw.term)" ng-click="handleFilter('specimen_type', kw.term)">
                            {{kw.term}}
                            <span class="muted">({{kw.count}})</span>
                        </label>
                    </li>

                    <li class="divider"></li>
                    <li class="nav-header">File Type</li>
                    <li ng-repeat="kw in results.facets.file_typeFacet.terms">
                        <label class="checkbox">
                            <input type="checkbox" ng-checked="hasFilter('file_type', kw.term)" ng-click="handleFilter('file_type', kw.term)">
                            {{kw.term}}
                            <span class="muted">({{kw.count}})</span>
                        </label>
                    </li>

                </ul>
            </div>
            <!--div class="span5">
                <pre>{{restQry}}</pre>
            </div-->
            <div class="span5">
                <!--ul class="unstyled">
                    <li class="well well-small" ng-repeat="hit in results.hits.hits">
                        <h4></h4>
                        <span style="margin-right:1px;" class="badge badge-info" ng-repeat="tag in hit._source.databases">{{tag}}</span>
                        <span style="margin-right:1px;" class="badge badge-success" ng-repeat="kw in hit._source.consequences">{{kw}}</span>
                    </li>
                </ul-->
                <div class="table-responsive">
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>Center</th>
                        <th>Project</th>
                        <th>Program</th>
                        <th>Donor</th>
                        <th>Specimen Type</th>
                        <th>Analysis Type</th>
                        <th>Workflow</th>
                        <th>File Type</th>
                        <th>File</th>
                        <th>Download ID</th>
                      </tr>
                    </thead>
                    <tbody>

                      <tr ng-repeat="hit in results.hits.hits">
                        <td>{{hit._source.center}}</td>
                        <td>{{hit._source.project}}</td>
                        <td>{{hit._source.program}}</td>
                        <td>{{hit._source.donor}}</td>
                        <td>{{hit._source.specimen_type}}</td>
                        <td>{{hit._source.analysis_type}}</td>
                        <td>{{hit._source.workflow}}</td>
                        <td>{{hit._source.file_type}}</td>
                        <td>{{hit._source.title}}</td>
                        <td>{{hit._source.download_id}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
            </div>
          </div>
    </div>


    <footer class="text">
<section style="color: white">UCSC Genomics Institute - Analysis Core
<ul class="header" style="float: right; font-size:50%; padding: 4px;">
   <li><a href="index.html">Home</a></li>
   <li><a href="projects.html">Projects</a></li>
   <li><a href="https://ucsc-cgl.atlassian.net/wiki/">Wiki</a></li>
   <li><a href="about.html">About</a></li>
</ul>
</section>
</footer>


    <!-- project dependencies -->
    <script src="common/lib/underscore.min.js"></script>
    <script src="common/lib/angular.min.js"></script>
    <script src="common/js/elastic.min.js"></script>
    <script src="common/js/elastic-angular-client.min.js"></script>

    <!-- project specific files -->
    <script src="js/app.simple.js"></script>

</html>
